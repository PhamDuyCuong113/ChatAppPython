{% extends "chat/Base.html" %}
{% load static %}

{% block title %}T√¨m ki·∫øm b·∫°n b√®{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="d-flex flex-column align-items-center">
    <h3 class="mb-3 fw-semibold">üîç T√¨m ki·∫øm b·∫°n b√®</h3>

    <form method="post" class="d-flex mb-4" style="gap: 8px;">
      {% csrf_token %}
      <input 
        type="text" 
        name="search" 
        placeholder="Nh·∫≠p t√™n ho·∫∑c username..."
        class="form-control"
        style="width: 280px;"
        value="{{ request.POST.search|default:'' }}"
      >
      <button type="submit" class="btn btn-success">T√¨m</button>
    </form>

    <div class="card shadow-sm" style="width: 400px; border-radius: 10px;">
      <ul class="list-group list-group-flush">
        {% for user in users %}
        <li class="list-group-item d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <img src="{% static 'images/user_image.jpg' %}" alt="avatar"
                 class="me-3" style="width:50px;height:50px;border-radius:50%;">
            <div>
              <strong>{{ user.name }}</strong><br>
              <small class="text-muted">@{{ user.username }}</small>
            </div>
          </div>
          <div class="btn-group">
            <a class="btn btn-sm btn-outline-primary" href="{% url 'chat:chat' user.username %}">üí¨ Chat</a>
            <a class="btn btn-sm btn-outline-success" href="{% url 'chat:addFriend' user.username %}">‚ûï K·∫øt b·∫°n</a>
          </div>
        </li>
        {% empty %}
        <li class="list-group-item text-center text-muted py-3">
          Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng n√†o.
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
